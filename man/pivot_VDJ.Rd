% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocessing.R
\name{pivot_VDJ}
\alias{pivot_VDJ}
\title{Pivot VDJ contig data to wide format}
\usage{
pivot_VDJ(
  VDJ_data,
  sample_col = NULL,
  is_cell = FALSE,
  high_confidence = FALSE,
  productive = FALSE,
  full_length = FALSE,
  cdr3_col = "cdr3_nt",
  verbose = TRUE
)
}
\arguments{
\item{VDJ_data}{A data frame of VDJ contig annotations in 10x Genomics
format. Must contain columns: barcode, chain, v_gene, cdr3, j_gene, umis,
and other standard 10x VDJ columns.}

\item{sample_col}{Name of the column in \code{VDJ_data} to use as sample
identifier. If \code{NULL}, all cells are assigned to a single sample
called "Sample".}

\item{is_cell}{Logical. If \code{TRUE}, filter to rows where
\code{is_cell == "true"}.}

\item{high_confidence}{Logical. If \code{TRUE}, filter to rows where
\code{high_confidence == "true"}.}

\item{productive}{Logical. If \code{TRUE}, filter to rows where
\code{productive == "true"}.}

\item{full_length}{Logical. If \code{TRUE}, filter to rows where
\code{full_length == "true"}.}

\item{cdr3_col}{Which CDR3 column to use for building the composite TCR
chain identifier. Either \code{"cdr3_nt"} (nucleotide sequence, default)
or \code{"cdr3"} (amino acid sequence).}

\item{verbose}{Logical. If \code{TRUE}, print progress messages.}
}
\value{
A data frame in wide format with one row per cell barcode. Contains
columns for sample, barcode, TCR chain identifiers (TRA_1, TRA_2, TRB_1,
TRB_2), contig metadata, and individual chain component columns.
}
\description{
Converts VDJ contig annotation data from long format (one row per contig)
to wide format (one row per cell barcode), creating composite TCR chain
identifiers (TRA_1, TRA_2, TRB_1, TRB_2) from V gene, CDR3, and J gene.
}
